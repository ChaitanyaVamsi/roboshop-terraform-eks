terraform init
terraform init -reconfigure
terraform apply -auto-apply
terraform destroy -auto-apply

Note
---------------
The same AWS IAM identity (aws configure / profile / role) that created the EKS cluster MUST be used on the bastion to run kubectl,
OR that bastion IAM identity must be explicitly added to the cluster access.
If this does not match ‚Üí
üëâ kubectl will fail with

üìù Important note to store

IAM user TuserIam is the EKS cluster owner
Any machine (bastion/laptop) running kubectl must:

Use TuserIam AWS credentials OR

Be explicitly added to EKS access (aws-auth / access entries)

aws sts get-caller-identity
aws eks update-kubeconfig --region us-east-1 --name roboshop-dev




kubectl cordon ip-10-0-12-51.ec2.internal - when nodes are on cordon no pods will be sheduled

kubectl drain ip-10-0-12-51.ec2.internal - kubectl drain safely empties a node by evicting pods while respecting Kubernetes safety rules.

kubectl taint node upgrade=true:NoSchedule-

destroy infra
=====================
for i in 90-eks/ 80-frontend-alb/ 70-acm/ 40-ecr/ 30-sg-rules/ 20-bastion/ 10-sg/ 00-vpc/; do cd $i;terraform destroy -auto-approve; cd .. ;done

create infra
=====================
for i in 00-vpc/ 10-sg/ 20-bastion/ 30-sg-rules/ 40-ecr/ 70-acm/ 80-frontend-alb/ 90-eks/; do cd $i;terraform apply -auto-approve; cd .. ;done

golden ami
============
Name: Redhat-9-DevOps-Practice
AMI ID: ami-0220d79f3f480ecf5
This AMI is available only in the North Virginia (us-east-1) region.